<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <title>Регистрация</title>
    <th:block th:replace="fragments/head :: head"></th:block>
  </head>
  <body class="grid">

    <nav class="navbar navbar-expand-md bg-dark navbar-dark container">
      <th:block th:replace="fragments/nav :: nav"></th:block>
    </nav>

    <main class="container">
      <article class="row">
        <section class="col-6 offset-md-3 offset-lg-3">
          <div th:if="${param.success}">
            <div class="alert alert-info">
              Регистрацията беше успешна!
            </div>
          </div>

          <h1>Регистрация!</h1>
          <form th:action="@{/registration}" th:object="${user}" method="POST">

            <p class="error-message"
               th:if="${#fields.hasGlobalErrors()}"
               th:each="error : ${#fields.errors('global')}"
               th:text="${error}">Validation error</p>

            <div class="form-group"
                 th:classappend="${#fields.hasErrors('firstName')}? 'has-error':''">
              <label for="firstName" class="control-label">Име</label>
              <input id="firstName"
                     class="form-control"
                     th:field="*{firstName}"/>
              <p class="error-message"
                 th:each="error: ${#fields.errors('firstName')}"
                 th:text="${error}">Validation error</p>
            </div>
            <div class="form-group"
                 th:classappend="${#fields.hasErrors('lastName')}? 'has-error':''">
              <label for="lastName" class="control-label">Фамилия</label>
              <input id="lastName"
                     class="form-control"
                     th:field="*{lastName}"/>
              <p class="error-message"
                 th:each="error : ${#fields.errors('lastName')}"
                 th:text="${error}">Validation error</p>
            </div>
            <div class="form-group"
                 th:classappend="${#fields.hasErrors('email')}? 'has-error':''">
              <label for="email" class="control-label">E-mail</label>
              <input id="email"
                     class="form-control"
                     th:field="*{email}"/>
              <p class="error-message"
                 th:each="error : ${#fields.errors('email')}"
                 th:text="${error}">Validation error</p>
            </div>
            <div class="form-group"
                 th:classappend="${#fields.hasErrors('confirmEmail')}? 'has-error':''">
              <label for="confirmEmail" class="control-label">Повтори e-mail</label>
              <input id="confirmEmail"
                     class="form-control"
                     th:field="*{confirmEmail}"/>
              <p class="error-message"
                 th:each="error : ${#fields.errors('confirmEmail')}"
                 th:text="${error}">Validation error</p>
            </div>
            <div class="form-group"
                 th:classappend="${#fields.hasErrors('password')}? 'has-error':''">
              <label for="password" class="control-label">Парола</label>
              <input id="password"
                     class="form-control"
                     type="password"
                     th:field="*{password}"/>
              <p class="error-message"
                 th:each="error : ${#fields.errors('password')}"
                 th:text="${error}">Validation error</p>
            </div>
            <div class="form-group"
                 th:classappend="${#fields.hasErrors('confirmPassword')}? 'has-error':''">
              <label for="confirmPassword" class="control-label">Повтори парола</label>
              <input id="confirmPassword"
                     class="form-control"
                     type="password"
                     th:field="*{confirmPassword}"/>
              <p class="error-message"
                 th:each="error : ${#fields.errors('confirmPassword')}"
                 th:text="${error}">Validation error</p>
            </div>
            <div class="form-group"
                 th:classappend="${#fields.hasErrors('terms')}? 'has-error':''">
              <label class="control-label input-label checkbox" for="terms">
                Съгласен съм с <a href="#">условията за ползване</a> на TUO.
                <input id="terms"
                       type="checkbox"
                       th:field="*{terms}">
                <span class="checkmark"></span>
              </label>
              <p class="error-message"
                 th:each="error : ${#fields.errors('terms')}"
                 th:text="${error}">Validation error</p>
            </div>
            <div class="form-group">
              <button type="submit" class="btn btn-success">Регистрация</button>
              <span>Вече си регистриран? <a href="/" th:href="@{/login}">Влез от тук.</a></span>
            </div>

          </form>
        </section>

      </article>
    </main>

    <th:block th:replace="fragments/footer :: footer"></th:block>

  </body>
</html>
